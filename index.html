
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cato Dogs Journal</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <style>
    body { font-size: 1.1rem; padding: 1rem; }
    .tab-content { margin-top: 1rem; }
    .alert-error { background-color: #f8d7da; padding: 1rem; margin-bottom: 1rem; }
    img.dog-photo { max-height: 150px; object-fit: cover; border-radius: 12px; margin: 0.5rem; }
  </style>
</head>
<body>
  <h1 class="text-center mb-4">Cato Dogs Journal</h1>
  <div class="d-flex justify-content-center mb-3">
    <img src="photos/thor.jpg" alt="Thor" class="dog-photo">
    <img src="photos/mia.jpg" alt="Mia" class="dog-photo">
  </div>
  <ul class="nav nav-tabs" id="mainTabs" role="tablist">
    <li class="nav-item"><button class="nav-link active" data-bs-toggle="tab" data-bs-target="#overview">Overview</button></li>
    <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#weights">Weights & Lengths</button></li>
    <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#care">Care Plan</button></li>
    <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#birthlog">Birth Log</button></li>
    <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#bios">Bios</button></li>
    <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#vet">Vet & Worming</button></li>
    <li class="nav-item"><button class="nav-link" data-bs-toggle="tab" data-bs-target="#photos">Photos</button></li>
  </ul>

  <div class="tab-content">
    <div class="tab-pane fade show active" id="overview">
      <div id="overview-content" class="mt-3">Loading overview...</div>
    </div>
    <div class="tab-pane fade" id="weights">
      <div id="weights-content" class="mt-3">Loading weights & lengths...</div>
    </div>
    <div class="tab-pane fade" id="care">
      <div id="care-content" class="mt-3">Loading care plan...</div>
    </div>
    <div class="tab-pane fade" id="birthlog">
      <div id="birthlog-content" class="mt-3">Loading birth log...</div>
    </div>
    <div class="tab-pane fade" id="bios">
      <div id="bios-content" class="mt-3">Loading bios...</div>
    </div>
    <div class="tab-pane fade" id="vet">
      <div id="vet-content" class="mt-3">Loading vet & worming info...</div>
    </div>
    <div class="tab-pane fade" id="photos">
      <div id="photos-content" class="mt-3">Loading photos...</div>
    </div>
  </div>

  <div id="error-banner" class="alert-error d-none"></div>

  <script>
    async function getJson(path) {
      try {
        const response = await fetch(path + '?v=' + Date.now());
        if (!response.ok) throw new Error('HTTP ' + response.status);
        return await response.json();
      } catch (err) {
        document.getElementById('error-banner').classList.remove('d-none');
        document.getElementById('error-banner').innerText = 'Failed to load ' + path + ': ' + err.message;
        return null;
      }
    }

    async function loadAll() {
      const overview = await getJson('data/overview.json');
      if (overview) document.getElementById('overview-content').innerText = JSON.stringify(overview, null, 2);

      const weights = await getJson('data/weights.json');
      if (weights) document.getElementById('weights-content').innerText = JSON.stringify(weights, null, 2);

      const care = await getJson('data/care.json');
      if (care) document.getElementById('care-content').innerText = JSON.stringify(care, null, 2);

      const birthlog = await getJson('data/birth_log.json');
      if (birthlog) document.getElementById('birthlog-content').innerText = JSON.stringify(birthlog, null, 2);

      const dogs = await getJson('data/dogs.json');
      if (dogs) document.getElementById('bios-content').innerText = JSON.stringify(dogs, null, 2);

      const vet = await getJson('data/vet.json');
      if (vet) document.getElementById('vet-content').innerText = JSON.stringify(vet, null, 2);
    }

    loadAll();
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
