<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Cato Dogs Journal</title>
<style>
body{font-family:sans-serif;margin:0;background:#f7fafc;color:#0f172a;}
header{background:#fff;border-bottom:1px solid #e2e8f0;padding:12px 16px;}
.container{max-width:1100px;margin:auto;padding:16px;}
.card{background:#fff;border:1px solid #e2e8f0;border-radius:12px;padding:16px;margin:16px 0;}
.tabs{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:12px;}
.tabs button{padding:10px 14px;border:1px solid #e2e8f0;border-radius:8px;background:#fff;cursor:pointer;}
.tabs button.active{background:#2563eb;color:#fff;}
.panel{display:none;} .panel.active{display:block;}
.dog-bio{display:flex;align-items:center;gap:12px;margin-bottom:16px;}
.dog-bio img{width:100px;height:100px;object-fit:cover;border-radius:8px;border:1px solid #ccc;}
table{border-collapse:collapse;width:100%;margin-top:12px;}
td,th{border:1px solid #e2e8f0;padding:6px;text-align:left;}
</style>
</head>
<body>
<header><h1>Cato Dogs Journal</h1></header>
<main class="container">
<div class="tabs">
<button class="tab active" data-tab="overview">Overview</button>
<button class="tab" data-tab="weights">Weights & Lengths</button>
<button class="tab" data-tab="care">Care Plan</button>
<button class="tab" data-tab="photos">Photos</button>
<button class="tab" data-tab="parents">Parents</button>
</div>

<section class="panel active" id="overview"><h2>Overview</h2><div id="overviewData"></div></section>

<section class="panel" id="weights"><h2>Weights & Lengths</h2>
<svg id="chart" viewBox="0 0 960 520"></svg>
<details><summary><b>Length Growth Chart</b></summary>
<svg id="lengthChart" viewBox="0 0 960 520"></svg>
</details>
</section>

<section class="panel" id="care"><h2>Care Plan</h2><div id="careTiles"></div>
<details><summary>Completed Weeks</summary><div id="completedWeeks"></div></details></section>

<section class="panel" id="photos"><h2>Photo Gallery</h2><input type="file" id="addPhoto" multiple><div id="photoGrid"></div></section>

<section class="panel" id="parents"><h2>Parents</h2><div id="dogs"></div></section>
</main>

<script>
document.querySelectorAll('.tab').forEach(btn=>btn.addEventListener('click',()=>{
document.querySelectorAll('.tab').forEach(b=>b.classList.remove('active'));
document.querySelectorAll('.panel').forEach(p=>p.classList.remove('active'));
btn.classList.add('active');document.getElementById(btn.dataset.tab).classList.add('active');
}));

// Fetch JSON data
async function loadData(){
 const ov = await (await fetch('data/overview.json')).json();
 document.getElementById('overviewData').innerHTML=`
  <table><tr><th>Total Pups</th><th>Live</th><th>Stillborn</th><th>Whelping Window</th></tr>
  <tr><td>${ov.total_pups}</td><td>${ov.live}</td><td>${ov.stillborn}</td><td>${ov.dob_range}</td></tr></table>`;

 const dogs = await (await fetch('data/dogs.json')).json();
 document.getElementById('dogs').innerHTML = dogs.map(d=>`
  <div class="dog-bio">
   <img src="${d.photo}" alt="${d.name}">
   <div><h3>${d.name} (${d.breed})</h3>
   <p><b>DOB:</b> ${d.dob}</p>
   <p><b>Weight:</b> ${d.weight}</p>
   <p><b>Microchip:</b> ${d.microchip}</p>
   <p><b>Last Vet Visit:</b> ${d.last_vet}</p></div>
  </div>`).join("");
}
loadData();
</script>
</body></html>